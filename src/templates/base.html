<!DOCTYPE html>
<html lang="en" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="{{ url_for('static', filename='generated-styles.css') }}" rel="stylesheet">
    <title>Garbage Detect</title>
</head>

<body class="h-full flex">
    <nav id="binNav" class="flex flex-col items-stretch gap-3 overflow-y-scroll bg-slate-100 py-2 px-8 h-screen">
        <a href="/" class="text-2xl font-extrabold text-slate-800 w-full text-center my-4">garbage-detect</a>
        {% for bin in bins %}
        <a class="{% if target == bin.id %} bg-slate-700 text-slate-100 {% else %} hover:bg-slate-200 
            {% endif %} rounded-xl leading-5 duration-200 flex items-center overflow-hidden min-h-[4rem]"
            href="/{{bin.id}}">
            <!-- <img class="w-64 h-44 object-cover" src="{{ url_for('static', filename=bin.img_path) }}" alt="Garbage bin"> -->
            <span class="{% if target == bin.id %} bg-slate-800 text-slate-100 
            {% else %} bg-slate-300 text-slate-400 {% endif %} text-xl font-bold
            px-4 h-[calc(100%-1rem)] flex items-center rounded-lg ml-2">5</span>
            <div class="px-5 py-3">
                <div class="font-bold">{{ bin.address }}</div>
                <div class="font-light">{{ bin.location }}</div>
            </div>
        </a>
        {% endfor %}
    </nav>

    <div class="p-8 text-center align-middle leading-[100%] h-full w-auto">
        {% block stats %}
        Select a garbage bin to view data
        {% endblock %}
    </div>
</body>

<script>
    const binNav = document.getElementById('binNav');

    document.addEventListener("DOMContentLoaded", (event) => {
        let scrollpos = localStorage.getItem('scrollpos');
        if (scrollpos) binNav.scrollTo(scrollpos, 0);
    });

    window.onbeforeunload = (_) => {
        localStorage.setItem('scrollpos', binNav.scrollLeft);
    };
</script>


</html>